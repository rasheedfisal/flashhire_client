import{k as h,r as l,o as m,c as p,g as i,v as w,d as y,b as e,h as C,m as x,n as f,F as P,j as T}from"./index-52d34a77.js";import{_ as $}from"./hireflash-de18c76a.js";import{_ as j}from"./ToastMsg-3159a1a9.js";import{_ as I}from"./Loading-436a1654.js";const M={class:"bg-indigo-50 w-full min-h-screen grid place-items-center"},N=e("div",{class:"flex justify-center items-center"},[e("img",{src:$,alt:"",class:"w-48 h-auto"})],-1),F=e("div",{class:"my-8"},[e("h2",{class:"font-semibold text-2xl"},"Create new password")],-1),V={class:"my-2"},z=e("label",{class:"mb-2 block"},"Enter your new password",-1),B={class:"w-full relative"},E=["type"],U={class:"absolute top-[50%] translate-y-[-50%] right-4",type:"button"},A={class:"text-red-500 text-sm block max-w-[24rem]"},D={class:"my-2"},L=e("label",{class:"mb-2 block"},"Confirm your new password",-1),O={class:"w-full relative"},Z=["type"],H={class:"absolute top-[50%] translate-y-[-50%] right-4",type:"button"},J={class:"text-red-500 text-sm block max-w-[24rem]"},W=["disabled"],q=e("p",{class:""},"Login",-1),G=e("i",{class:"bi bi-box-arrow-in-right text-lg"},null,-1),K=[q,G],Q={key:1,class:"w-full h-10 mt-6 grid place-items-center"},te={__name:"NewPasswordUI",setup(R){document.title="Create New Password - Hireflash",window.sessionStorage.getItem("user_email")||h.replace("/auth/forgot-password");const t=l("password");function v(){t.value==="password"?t.value="text":t.value==="text"&&(t.value="password")}const o=l(""),a=l(""),u=l(!1);async function k(){u.value=!0;const r=await fetch(T+"/auth/forgot-password/new-password",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({email:window.sessionStorage.getItem("user_email"),newpassword:o.value,confirmnewpassword:a.value})}),s=await r.json();r.status!==200?(u.value=!1,S(s.message)):(u.value=!1,o.value="",a.value="",window.sessionStorage.removeItem("user_email"),window.sessionStorage.setItem("success-change","true"),h.push("/auth/forgot-password/success-change"))}const g=l(!1);function b(){return!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(o.value)}function _(){return!!(o.value===""||a.value===""||b()||a.value!==o.value)}const d=l(!1),c=l("");function S(r){c.value=r,d.value=!0,setTimeout(()=>{d.value=!1,c.value=""},3e3)}return(r,s)=>(m(),p(P,null,[i(y(j,{msg:c.value},null,8,["msg"]),[[w,d.value]]),e("main",M,[e("form",{class:"px-10 py-5 w-fit rounded-lg shadow-xl bg-gray-50 max-md:w-11/12 max-md:px-5",onSubmit:s[5]||(s[5]=C(n=>k(),["prevent"]))},[N,F,e("div",V,[z,e("div",B,[i(e("input",{type:t.value,class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"⚹⚹⚹⚹⚹⚹⚹⚹","onUpdate:modelValue":s[0]||(s[0]=n=>o.value=n),onFocus:s[1]||(s[1]=()=>{g.value=!0})},null,40,E),[[x,o.value]]),e("button",U,[e("i",{class:f(["bi",{"bi-eye-slash":t.value==="password","bi-eye-fill":t.value==="text"}]),onClick:s[2]||(s[2]=n=>v())},null,2)])]),i(e("small",A,"Password must have at least 8 characters with the combination of number, lowercase and uppercase letter.",512),[[w,g.value&&b()]])]),e("div",D,[L,e("div",O,[i(e("input",{type:t.value,class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"⚹⚹⚹⚹⚹⚹⚹⚹","onUpdate:modelValue":s[3]||(s[3]=n=>a.value=n)},null,8,Z),[[x,a.value]]),e("button",H,[e("i",{class:f(["bi",{"bi-eye-slash":t.value==="password","bi-eye-fill":t.value==="text"}]),onClick:s[4]||(s[4]=n=>v())},null,2)])]),i(e("small",J,"Password does not match!",512),[[w,a.value!==o.value]])]),u.value?(m(),p("div",Q,[y(I,{color:"indigo"})])):(m(),p("button",{key:0,type:"submit",class:f(["w-full h-10 mt-6 rounded-md bg-indigo-800 text-gray-50 flex justify-center items-center gap-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":_()}]),disabled:_()},K,10,W))],32)])],64))}};export{te as default};
