import{k as w,r as l,a as T,o as n,c as r,g as d,v as j,d as u,b as e,h as M,w as x,i as b,F as g,n as _,p as k,s as B,u as A,j as N}from"./index-52d34a77.js";import{_ as $}from"./hireflash-de18c76a.js";import{_ as F}from"./ToastMsg-3159a1a9.js";import{_ as S,a as C}from"./OptionCustom-cd5bbf2e.js";import{c as L}from"./CountryList-7ca74b8e.js";const z={class:"bg-indigo-50 w-full min-h-screen grid place-items-center py-8"},D=e("div",{class:"flex justify-center items-center"},[e("img",{src:$,alt:"",class:"w-48 h-auto"})],-1),E=e("div",{class:"my-8"},[e("h2",{class:"font-semibold text-2xl"}," Complete your account info "),e("p",null,"Almost there!")],-1),G={class:"my-2"},J=e("label",{class:"mb-2 block"},"Gender",-1),O={class:"my-2"},H=e("label",{class:"mb-2 block"},"Preferred location",-1),q={class:"my-2"},K=e("label",{class:"mb-2 block"},"Date of birth",-1),Q={class:"my-2"},R=e("label",{class:"mb-2 block"},"Nationality",-1),W={class:"my-2"},X=e("label",{class:"mb-2 block"},"Preferred Salary",-1),Y={class:"my-2"},Z=e("label",{class:"mb-2 block"},"About",-1),ee=["disabled"],oe=e("p",null,"Go to Profile",-1),te=e("i",{class:"bi bi-arrow-right text-lg"},null,-1),le=[oe,te],se=e("button",{type:"submit",class:"w-full h-10 mt-3 rounded-md border-2 border-indigo-800 text-indigo-800 flex justify-center items-center gap-2 transition ease-in-out focus:scale-95 hover:-translate-y-1"},[e("p",null,"Skip for now")],-1),ae={key:1,class:"w-full h-10 mt-6 grid place-items-center"},ne=e("div",{class:"flex justify-center mt-2"},[e("small",null,[e("em",null,"All input section are optional ")])],-1),pe={__name:"CompleteInfoUI",setup(ie){document.title="Complete Account Info - Hireflash",!window.sessionStorage.getItem("newuser")&&!window.sessionStorage.getItem("user_id")&&w.replace("/auth/signup");const s=l(""),c=l(""),m=l(""),a=l(""),p=l(0),V=l(""),f=l(!1);async function I(){f.value=!0,(await fetch(N+"/candidate-profile",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({gender:s.value,location:c.value,date_of_birth:m.value,nationality:a.value,preferred_salary:p.value,about:V.value,user_id:window.sessionStorage.getItem("user_id")})})).status!==201?(f.value=!0,U("Complete account information failed. Please try again.")):(f.value=!0,window.sessionStorage.removeItem("newuser"),window.sessionStorage.removeItem("user_id"),w.push("/profile"))}function y(){return s.value===""&&c.value===""&&m.value===""&&a.value===""&&p.value===""}const v=l(!1),h=l("");function U(i){h.value=i,v.value=!0,setTimeout(()=>{v.value=!1,h.value=""},3e3)}return(i,t)=>{const P=T("Loading");return n(),r(g,null,[d(u(F,{msg:h.value},null,8,["msg"]),[[j,v.value]]),e("main",z,[e("form",{class:"px-10 py-5 rounded-lg shadow-xl bg-gray-50 w-fit max-sm:w-11/12 max-md:px-5",onSubmit:t[6]||(t[6]=M(o=>I(),["prevent"]))},[D,E,e("div",G,[J,u(S,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),heightselect:"[7rem]",widthselect:"96",placeholderval:"Select gender",isdisabled:!1},{default:x(()=>[(n(),r(g,null,k(["Male","Female"],o=>u(C,{optionvalue:o,onClick:()=>{s.value=o},class:_({"rounded-md shadow-inner bg-indigo-100":s.value===o})},null,8,["optionvalue","onClick","class"])),64))]),_:1},8,["modelValue"])]),e("div",O,[H,d(e("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"Batu Pahat, Johor","onUpdate:modelValue":t[1]||(t[1]=o=>c.value=o)},null,512),[[b,c.value]])]),e("div",q,[K,d(e("input",{type:"date",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"15, University Street 22","onUpdate:modelValue":t[2]||(t[2]=o=>m.value=o)},null,512),[[b,m.value]])]),e("div",Q,[R,u(S,{modelValue:a.value,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value=o),heightselect:"40",widthselect:"96",placeholderval:"Select nationality",isdisabled:!1},{default:x(()=>[(n(!0),r(g,null,k(A(L),o=>(n(),B(C,{optionvalue:o,onClick:()=>{a.value=o},class:_({"rounded-md shadow-inner bg-indigo-100":a.value===o})},null,8,["optionvalue","onClick","class"]))),256))]),_:1},8,["modelValue"])]),e("div",W,[X,d(e("input",{type:"number",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"86400","onUpdate:modelValue":t[4]||(t[4]=o=>p.value=o)},null,512),[[b,p.value]])]),e("div",Y,[Z,d(e("textarea",{class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300 resize-y h-44",placeholder:"This is the best explanation...","onUpdate:modelValue":t[5]||(t[5]=o=>i.desc=o)},null,512),[[b,i.desc]])]),f.value?(n(),r("div",ae,[u(P,{color:"indigo"})])):(n(),r(g,{key:0},[e("button",{type:"submit",class:_(["w-full h-10 mt-6 rounded-md bg-indigo-800 text-gray-50 flex justify-center items-center gap-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":y()}]),disabled:y()},le,10,ee),se],64)),ne],32)])],64)}}};export{pe as default};
