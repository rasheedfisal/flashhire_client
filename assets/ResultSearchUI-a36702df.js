import{r as a,t as G,J as H,l as O,k as v,j as F,K as W,a as K,o as i,c as d,g as l,v as N,d as u,b as e,i as P,f as h,H as m,F as w,p as q,L as R,M as C,w as A,u as Q,E as X,I as z,e as Y,G as k}from"./index-52d34a77.js";import{_ as Z}from"./ToastMsg-3159a1a9.js";import{_ as ee,a as te}from"./NavPublic-0550edef.js";import{_ as L}from"./TitleBorder-ff85321c.js";import{_ as oe}from"./Loading-436a1654.js";import"./hireflash-de18c76a.js";const se={class:"bg-indigo-50 w-full min-h-screen"},ne={class:"max-w-7xl mx-auto px-4"},ae={class:"bg-gray-50 p-6 rounded-md shadow-lg w-full mt-12 max-md:mt-8",action:"/job/result"},le=e("h1",{class:"text-center text-3xl font-bold mb-4"},"Get your dream job",-1),ie={class:"flex gap-2 max-w-xl mx-auto"},de=e("button",{class:"flex justify-center items-center rounded-md bg-indigo-800 text-gray-50 px-4 py-2 w-36 gap-2 max-md:w-16 transition ease-in-out focus:scale-95 hover:-translate-y-1",type:"submit"},[e("p",{class:"max-md:hidden"},"Search"),e("i",{class:"bi bi-search"})],-1),ue={class:"flex max-md:flex-col gap-4 mt-4"},re={class:"hidden max-md:flex flex-row-reverse"},ce=e("i",{class:"bi bi-filter"},null,-1),me={class:"w-72 max-md:w-full"},pe={class:"bg-gray-50 px-6 py-4 rounded-md shadow-lg w-full"},ve={class:"mb-4"},he=e("option",{value:""},"Any",-1),ge={class:"mb-4"},fe={class:"flex items-center mb-2 gap-2"},_e=e("span",null,"Permanent",-1),xe={class:"flex items-center mb-2 gap-2"},be=e("span",null,"Contract",-1),ye={class:"flex items-center mb-2 gap-2"},we=e("span",null,"Internship",-1),Ce={class:"flex items-center mb-2 gap-2"},Te=e("span",null,"Full-Time",-1),ke={class:"flex items-center mb-2 gap-2"},Le=e("span",null,"Part-Time",-1),Me={class:"mb-4"},Se=e("option",{value:""},"Any",-1),Ve={class:"mb-4"},Ue=Y('<option value="">Any</option><option value="1">Today</option><option value="7">Last 7 days</option><option value="14">Last 14 days</option><option value="30">Last 30 days</option>',5),je=[Ue],$e=e("button",{type:"submit",class:"flex justify-center items-center rounded-md bg-indigo-800 text-gray-50 px-4 py-2 w-full gap-2 mb-4 transition ease-in-out focus:scale-95 hover:-translate-y-1"},[e("p",null,"Apply"),e("i",{class:"bi bi-funnel"})],-1),Fe={class:"flex-grow bg-gray-50 w-full px-4 py-2 rounded-md shadow-lg max-md:px-6 max-md:py-3"},Pe={class:"m-6 max-md:m-0 max-md:mt-4"},qe={class:"relative group"},Re=e("button",{class:"absolute top-0 right-0"},[e("i",{class:"bi bi-three-dots-vertical text-lg"})],-1),Ae={class:"absolute top-1 right-6 hidden group-focus-within:grid place-items-center bg-gray-50 w-44 py-4 rounded-md shadow-lg outline outline-2 outline-indigo-200"},Ee={class:"flex flex-col"},De=["onClick"],Ne=["onClick"],Ie={class:"flex items-center gap-4 max-md:flex-col max-md:items-start"},Je={class:"border-2 border-indigo-200 rounded-md w-32 h-32 grid place-items-center"},Be=["src"],Ge={class:""},He={class:"flex gap-6 mb-1 max-md:flex-col max-md:gap-1"},Oe={class:"flex items-center"},We=e("i",{class:"bi bi-geo-alt"},null,-1),Ke={class:"flex items-center"},Qe=e("i",{class:"bi bi-cash"},null,-1),Xe=e("div",{class:"mt-4 border-t-[1.5px] border-indigo-200"},null,-1),ze={key:1,class:"m-6 max-md:m-0 max-md:mt-4"},Ye=e("h4",{class:"text-lg text-indigo-300 italic"},"No result...",-1),Ze=[Ye],et={key:1,class:"h-full w-full grid place-items-center"},tt=e("br",null,null,-1),ot=e("br",null,null,-1),st=e("br",null,null,-1),nt=e("br",null,null,-1),mt={__name:"ResultSearchUI",setup(at){document.title="Result Search - Hireflash";const M=a(!1);G(()=>{M.value=H.value});const E=a(!1);O(async()=>{if(c.value=v.currentRoute.value.query.q,r.value=v.currentRoute.value.query.t,g.value=v.currentRoute.value.query.f,f.value=v.currentRoute.value.query.loc,_.value=v.currentRoute.value.query.post,c.value===void 0){v.replace("/job/search");return}let n=F+"/job/search?q="+encodeURIComponent(c.value);r.value&&(r.value.includes(",")?s.value=r.value.split(","):s.value=[...s.value,r.value],n+="&t="+r.value),g.value&&(n+="&f="+g.value),f.value&&(n+="&loc="+f.value),_.value&&(n+="&post="+_.value);const o=await fetch(n,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),p=await o.json();o.status!==200?y("Failed to search the job. Please try again."):(S.value=p.data.list,D.value=p.data.uniqueLocations,E.value=!0)});const c=a(""),r=a("any"),g=a(""),f=a(""),_=a(""),s=a([]);function x(){s.value.length<0||(s.value.length===1&&(r.value=s.value[0]),r.value=s.value.join(","))}const S=a([]),D=a([]),b=a(!window.matchMedia("(max-width: 768px)").matches),V=a(window.matchMedia("(max-width: 768px)").matches?"Open filter":"Close filter");function I(){b.value=!b.value,b.value===!1?V.value="Open filter":b.value===!0&&(V.value="Close filter")}const U=a(!1),j=a("");function y(n){j.value=n,U.value=!0,setTimeout(()=>{U.value=!1,j.value=""},3e3)}function J(n){navigator.clipboard.writeText(`https://rasheedfisal.github.io/flashhire_client/job/${n}`),y("Link copied!")}async function B(n){const o=await fetch(F+"/applicant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({notes:"",is_only_wish:!0,candidate_profile_id:k.value.id,job_id:n})});await o.json(),o.status!==201?y("Failed to add to Wishlist. Please try again."):(T.value=[...T.value,{id:crypto.randomUUID(),notes:"",is_only_wish:!0,candidate_profile_id:k.value.id,job_id:n}],y("Successfully added to Wishlist"))}const T=a([]);return W(async()=>{if(k.value.id){const n=await fetch(F+"/applicant/wishlist/"+k.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await n.json();n.status!==200?y("Failed to get wishlist. Please reload browser."):T.value=o.data}}),(n,o)=>{const p=K("router-link");return i(),d(w,null,[l(u(Z,{msg:j.value},null,8,["msg"]),[[N,U.value]]),e("main",se,[u(ee,{shownav:M.value},null,8,["shownav"]),u(te,{shownav:!M.value},null,8,["shownav"]),e("section",ne,[e("form",ae,[le,e("div",ie,[l(e("input",{type:"search",class:"flex-grow w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"Job Position","onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),name:"q"},null,512),[[P,c.value]]),de])]),e("div",ue,[e("div",re,[e("button",{class:"rounded-md shadow-lg bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:o[1]||(o[1]=t=>I())},[h(m(V.value)+" Â ",1),ce])]),l(e("div",me,[e("form",pe,[l(e("input",{type:"hidden",name:"q","onUpdate:modelValue":o[2]||(o[2]=t=>c.value=t)},null,512),[[P,c.value]]),e("div",ve,[u(L,{title:"Job Field"}),l(e("select",{class:"rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 w-full",name:"f","onUpdate:modelValue":o[3]||(o[3]=t=>g.value=t)},[he,(i(!0),d(w,null,q(["Computer Technology/IT/Software","Finance/Accounting","Marketing/Advertising","Sales/Business Development","Human Resources","Operations/Logistics","Customer Service/Support","Healthcare/Medical","Engineering (e.g., Civil, Mechanical, Electrical)","Education/Teaching","Administration/Management","Consulting","Legal","Design/Creative (e.g., Graphic Design, UX/UI Design)","Research/Development","Science/Laboratory","Media/Communications","Hospitality/Travel/Tourism","Manufacturing/Production","Social Services/Non-profit"],t=>(i(),d("option",null,m(t),1))),256))],512),[[R,g.value]])]),e("div",ge,[u(L,{title:"Job Type"}),l(e("input",{type:"hidden",name:"t","onUpdate:modelValue":o[4]||(o[4]=t=>r.value=t)},null,512),[[P,r.value]]),e("div",fe,[l(e("input",{type:"checkbox",class:"w-4 h-4 max-md:w-5 max-md:h-5 accent-indigo-800 fill-transparent",value:"Permanent","onUpdate:modelValue":o[5]||(o[5]=t=>s.value=t),onChange:o[6]||(o[6]=t=>x())},null,544),[[C,s.value]]),_e]),e("div",xe,[l(e("input",{type:"checkbox",class:"w-4 h-4 max-md:w-5 max-md:h-5 accent-indigo-800",value:"Contract","onUpdate:modelValue":o[7]||(o[7]=t=>s.value=t),onChange:o[8]||(o[8]=t=>x())},null,544),[[C,s.value]]),be]),e("div",ye,[l(e("input",{type:"checkbox",class:"w-4 h-4 max-md:w-5 max-md:h-5 accent-indigo-800",value:"Internship","onUpdate:modelValue":o[9]||(o[9]=t=>s.value=t),onChange:o[10]||(o[10]=t=>x())},null,544),[[C,s.value]]),we]),e("div",Ce,[l(e("input",{type:"checkbox",class:"w-4 h-4 max-md:w-5 max-md:h-5 accent-indigo-800",value:"Full-Time","onUpdate:modelValue":o[11]||(o[11]=t=>s.value=t),onChange:o[12]||(o[12]=t=>x())},null,544),[[C,s.value]]),Te]),e("div",ke,[l(e("input",{type:"checkbox",class:"w-4 h-4 max-md:w-5 max-md:h-5 accent-indigo-800",value:"Part-Time","onUpdate:modelValue":o[13]||(o[13]=t=>s.value=t),onChange:o[14]||(o[14]=t=>x())},null,544),[[C,s.value]]),Le])]),e("div",Me,[u(L,{title:"Location"}),l(e("select",{class:"rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 w-full",name:"loc","onUpdate:modelValue":o[15]||(o[15]=t=>f.value=t)},[Se,(i(!0),d(w,null,q(D.value,t=>(i(),d("option",null,m(t),1))),256))],512),[[R,f.value]])]),e("div",Ve,[u(L,{title:"Posted within"}),l(e("select",{class:"rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-400 w-full",name:"post","onUpdate:modelValue":o[16]||(o[16]=t=>_.value=t)},je,512),[[R,_.value]])]),$e])],512),[[N,b.value]]),e("div",Fe,[E.value?(i(),d(w,{key:0},[S.value.length>0?(i(!0),d(w,{key:0},q(S.value,t=>(i(),d("div",Pe,[e("div",qe,[Re,e("div",Ae,[e("div",Ee,[u(p,{class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",to:"/job/"+t.item.id},{default:A(()=>[h(" View Detail ")]),_:2},1032,["to"]),e("button",{class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:$=>J(t.item.id)}," Copy Link ",8,De),Q(X).id&&T.value.filter($=>$.job_id===t.item.id).length===0?(i(),d("button",{key:0,class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:$=>B(t.item.id)}," Add to Wishlist ",8,Ne)):z("",!0)])])]),e("div",Ie,[e("div",Je,[e("img",{src:t.item.company.pic,alt:"",class:"w-full h-auto max-md:w-16 max-md:h-16"},null,8,Be)]),e("div",Ge,[u(p,{class:"text-2xl font-semibold mb-1 hover:underline cursor-pointer max-md:text-xl",title:"Preview the job",to:"/job/"+t.item.id},{default:A(()=>[h(m(t.item.designation),1)]),_:2},1032,["to"]),e("div",He,[u(p,{class:"hover:underline cursor-pointer",to:"/company/"+t.item.company.id},{default:A(()=>[h(m(t.item.company.name),1)]),_:2},1032,["to"]),e("p",Oe,[We,h("Â "),e("span",null,m(t.item.company.state+", "+t.item.company.country),1)]),e("p",Ke,[Qe,h("Â "),e("span",null,"RM"+m(t.item.min_monthly_salary),1)])])])]),Xe]))),256)):(i(),d("div",ze,Ze))],64)):(i(),d("div",et,[u(oe,{color:"indigo"})])),tt])]),ot]),st,nt])],64)}}};export{mt as default};
