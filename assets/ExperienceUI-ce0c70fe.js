import{r as i,l as R,j as Y,G as $,o as C,c as D,g as y,v as G,d as L,b as o,F as U,p as A,H as g,n as P,h as F,i as N,w as H}from"./index-52d34a77.js";import{d as v}from"./dayjs.min-8d4ef725.js";import{c as O,g as I}from"./_commonjsHelpers-042e6b4d.js";import{_ as J}from"./TitleBorder-ff85321c.js";import{_ as W}from"./ToastMsg-3159a1a9.js";import{_ as z}from"./DialogModal-0af1feed.js";import{_ as K}from"./Loading-436a1654.js";var B={exports:{}};(function(V,b){(function(u,h){V.exports=h()})(O,function(){return function(u,h,_){u=u||{};var l=h.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(n,r,s,p){return l.fromToBase(n,r,s,p)}_.en.relativeTime=d,l.fromToBase=function(n,r,s,p,j){for(var x,w,E,k=s.$locale().relativeTime||d,f=u.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],M=f.length,T=0;T<M;T+=1){var a=f[T];a.d&&(x=p?_(n).diff(s,a.d,!0):s.diff(n,a.d,!0));var e=(u.rounding||Math.round)(Math.abs(x));if(E=x>0,e<=a.r||!a.r){e<=1&&T>0&&(a=f[T-1]);var t=k[a.l];j&&(e=j(""+e)),w=typeof t=="string"?t.replace("%d",e):t(e,r,a.l,E);break}}if(r)return w;var S=E?k.future:k.past;return typeof S=="function"?S(w):S.replace("%s",w)},l.to=function(n,r){return c(n,r,this,!0)},l.from=function(n,r){return c(n,r,this)};var m=function(n){return n.$u?_.utc():_()};l.toNow=function(n){return this.to(m(this),n)},l.fromNow=function(n){return this.from(m(this),n)}}})})(B);var q=B.exports;const Q=I(q),X={class:"bg-gray-50 w-full px-12 py-6 rounded-md shadow-lg max-md:px-6 max-md:py-3"},Z={class:"mb-8"},ee={key:0,class:"mt-4 grid grid-cols-2 gap-4 max-md:grid-cols-1"},oe={class:"border-2 border-indigo-200 rounded-md px-6 py-4 relative group/item"},te={class:"text-lg font-bold"},ae=["onClick"],ne=o("i",{class:"bi bi-trash3"},null,-1),se=[ne],le={key:1,class:"mt-8 text-lg text-indigo-300 italic"},re={key:1,class:"mt-4 grid place-items-center"},ie={class:"mt-6"},de={class:"mt-4"},ue=o("label",{class:"mb-2 block"},"Job Position",-1),ce={class:"mt-4"},me=o("label",{class:"mb-2 block"},"Start Date",-1),pe={class:"mt-4"},ve=o("label",{class:"mb-2 block"},"End Date",-1),fe={class:"mt-4"},ye=o("label",{class:"mb-2 block"},"Company Name",-1),ge={class:"mt-4"},be=o("label",{class:"mb-2 block"},"Company Location",-1),he={class:"mt-4"},_e=o("label",{class:"mb-2 block"},"Monthly Salary (RM)",-1),xe={class:"mt-6"},we=["disabled"],ke=o("br",{class:"mb-2"},null,-1),Me=o("p",null,"Confirm to remove from your work experience?",-1),Te={class:"mt-6 flex gap-2"},$e={__name:"ExperienceUI",setup(V){document.title="Experience - Hireflash";const b=i(!1);R(async()=>{const a=await fetch(Y+"/work-experience/"+$.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),e=await a.json();a.status!==200?alert("error occured"):(p.value=e.data,b.value=!0)});const u=i(!0),h=i("Add New");function _(){u.value=!u.value,u.value?h.value="Add New":h.value="Cancel"}const l=i(""),d=i(""),c=i(""),m=i(""),n=i(""),r=i("");let s={jobPosition:"",startDate:"",endDate:"",duration:"",companyName:"",companyLocation:"",monthlySalary:""};const p=i([]),j=i(!1),x=i("");function w(a){x.value=a,j.value=!0,setTimeout(()=>{j.value=!1,x.value=""},3e3)}async function E(){v.extend(Q),console.log(v(l.value).format("D MMMM YYYY")),console.log(v(d.value).format("D MMMM YYYY")),console.log(v(l.value).to(v(d.value),!0)),s.jobPosition=c.value,s.startDate=v(l.value).format("D MMMM YYYY"),s.endDate=v(d.value).format("D MMMM YYYY"),s.duration=v(l.value).to(v(d.value),!0),s.companyName=m.value,s.companyLocation=n.value,s.monthlySalary=r.value;const a=await fetch(Y+"/work-experience",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({position:s.jobPosition,start_date:s.startDate,end_date:s.endDate,duration:s.duration,company_name:s.companyName,company_address:s.companyLocation,monthly_salary:s.monthlySalary,candidate_profile_id:$.value.id})});if(await a.json(),a.status!==201)alert("error occured");else{b.value=!1;const e=await fetch(Y+"/work-experience/"+$.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await e.json();e.status!==200?alert("error occured"):(p.value=t.data,b.value=!0,c.value="",l.value="",d.value="",m.value="",n.value="",r.value="",w("New work experience has been added."),_())}}const k=i(!1),f=i("");function M(a){a&&(f.value=a),k.value=!k.value}async function T(){const a=await fetch(Y+"/work-experience/"+f.value,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"});if(await a.json(),a.status!==200)alert("error occured");else{b.value=!1;const e=await fetch(Y+"/work-experience/"+$.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await e.json();e.status!==200?(alert("error occured"),M(),f.value=""):(p.value=t.data,b.value=!0,M(),f.value="",w("Successfully removed from your work experience list."))}}return(a,e)=>(C(),D(U,null,[y(L(W,{msg:x.value},null,8,["msg"]),[[G,j.value]]),o("div",X,[o("div",Z,[L(J,{title:"Work experience"}),b.value?(C(),D(U,{key:0},[p.value.length>0?(C(),D("div",ee,[(C(!0),D(U,null,A(p.value,t=>(C(),D("div",oe,[o("h1",te,g(t.position),1),o("p",null,g(t.start_date)+" until "+g(t.end_date)+"  -  "+g(t.duration),1),o("p",null,g(t.company_name),1),o("p",null,g(t.company_address),1),o("p",null,"RM"+g(t.monthly_salary),1),o("button",{class:"py-1 px-2 absolute bottom-2 right-2 invisible group-hover/item:visible hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:S=>M(t.id),title:"Delete"},se,8,ae)]))),256))])):(C(),D("div",le," No work experience added... "))],64)):(C(),D("div",re,[L(K,{color:"indigo"})])),o("div",ie,[o("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[0]||(e[0]=t=>_())},g(h.value),1)])]),o("form",{class:P(["mb-8",{hidden:u.value}]),onSubmit:e[7]||(e[7]=F(t=>E(),["prevent"]))},[o("div",de,[ue,y(o("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"General Worker","onUpdate:modelValue":e[1]||(e[1]=t=>c.value=t)},null,512),[[N,c.value]])]),o("div",ce,[me,y(o("input",{type:"date",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"2003-01-08","onUpdate:modelValue":e[2]||(e[2]=t=>l.value=t)},null,512),[[N,l.value]])]),o("div",pe,[ve,y(o("input",{type:"date",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"2003-01-08","onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t)},null,512),[[N,d.value]])]),o("div",fe,[ye,y(o("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"Hireflash Inc.","onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t)},null,512),[[N,m.value]])]),o("div",ge,[be,y(o("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"Cambridge, UK","onUpdate:modelValue":e[5]||(e[5]=t=>n.value=t)},null,512),[[N,n.value]])]),o("div",he,[_e,y(o("input",{type:"number",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"3000","onUpdate:modelValue":e[6]||(e[6]=t=>r.value=t)},null,512),[[N,r.value]])]),o("div",xe,[o("button",{class:P(["rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":c.value===""||l.value===""||d.value===""||m.value===""||n.value===""||r.value===""}]),disabled:c.value===""||l.value===""||d.value===""||m.value===""||n.value===""||r.value===""}," Save ",10,we)])],34),y(L(z,{onToggle:e[10]||(e[10]=t=>M()),modaltype:"small"},{default:H(()=>[ke,Me,o("div",Te,[o("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[8]||(e[8]=t=>T())}," Yes "),o("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[9]||(e[9]=t=>M())}," Cancel ")])]),_:1},512),[[G,k.value]])])],64))}};export{$e as default};
