import{r,l as M,k as g,j as h,W as k,a as L,o as a,c as i,g as j,v as F,d as c,b as e,w as x,H as n,u as N,L as S,F as b,p as R,f as u,I as C}from"./index-52d34a77.js";import{_ as V}from"./TitleBorder-ff85321c.js";import{_ as $}from"./Loading-436a1654.js";import{_ as D}from"./ToastMsg-3159a1a9.js";import{d as E}from"./dayjs.min-8d4ef725.js";import"./_commonjsHelpers-042e6b4d.js";const Y={class:"max-w-7xl mx-auto px-6 max-md:px-3"},A={class:"w-full bg-gray-50 rounded-md shadow-lg px-12 py-6 max-md:px-4 max-md:py-2"},B={class:"mt-2 flex items-center gap-2"},G=e("i",{class:"bi bi-arrow-left text-xl"},null,-1),H=e("h2",null,"Recruitment Detail",-1),P={class:"mt-4"},U={class:"text-2xl font-bold text-center"},q={class:"text-center"},J={class:"mt-4 flex justify-between max-md:block"},O=e("option",{value:""},"Apply filter",-1),W=e("option",{value:"Filter 1"},"Filter 1",-1),z=e("option",{value:"Filter 2"},"Filter 2",-1),K=[O,W,z],Q={class:"mt-4"},X={class:"relative group"},Z=e("button",{class:"absolute top-0 right-0"},[e("i",{class:"bi bi-three-dots-vertical text-lg relative"})],-1),ee={class:"absolute top-1 right-6 hidden group-focus-within:grid place-items-center bg-gray-50 min-w-fit py-4 px-2 rounded-md shadow-lg outline outline-2 outline-indigo-200"},te={class:"flex flex-col"},se=["onClick"],oe={class:"flex items-center gap-4 max-md:gap-1 max-md:items-start max-md:flex-col"},ae=["src"],ie={class:"flex flex-col gap-1"},ne={key:0},le=e("i",{class:"bi bi-book"},null,-1),de={key:1},re=e("i",{class:"bi bi-briefcase"},null,-1),ce=e("i",{class:"bi bi-cash"},null,-1),ue={key:1,class:"mt-4 py-4"},_e=e("h4",{class:"text-lg text-indigo-300 italic"}," No candidate planned for interview... ",-1),pe=[_e],me={key:1,class:"mt-4 h-full w-full grid place-items-center"},he=e("br",null,null,-1),ke={__name:"InterviewListUI",setup(fe){document.title="Interview List - Hireflash";const w=r(!1);M(async()=>{const l=g.currentRoute.value.params.jobId,s=await fetch(h+"/job/"+l,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await s.json();if(s.status!==200)s.status===404&&g.replace("/404-Not-Found");else{d.value=o.data;const t=await fetch(h+"/shortlisted-candidate/"+l+"/interview",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),m=await t.json();t.status!==200||(_.value=m.data,w.value=!0)}});const _=r([]),d=r({}),p=r("");function T(){p.value!==""&&alert(`${p.value} applied`)}async function I(l){const s=g.currentRoute.value.params.jobId,o=await fetch(h+"/shortlisted-candidate/"+s+"/interview-status/"+l,{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({is_qualified_interview:!1})});if(await o.json(),o.status===200){const t=await fetch(h+"/shortlisted-candidate/"+s+"/interview",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),m=await t.json();t.status!==200||(_.value=m.data,y("Successfully removed the candidate from interview list."))}}const f=r(!1),v=r("");function y(l){v.value=l,f.value=!0,setTimeout(()=>{f.value=!1,v.value=""},3e3)}return k.value==="interview"&&(y("Successfully removed the candidate from interview list."),k.value=""),(l,s)=>{const o=L("router-link");return a(),i(b,null,[j(c(D,{msg:v.value},null,8,["msg"]),[[F,f.value]]),e("div",Y,[e("div",A,[e("div",B,[c(o,{to:"/workspace/recruitment/"+d.value.id,class:"py-1 px-2 hover:rounded-md hover:shadow-inner hover:bg-indigo-100"},{default:x(()=>[G]),_:1},8,["to"]),H]),e("div",P,[e("h1",U,n(d.value.designation),1),e("p",q,[e("small",null,"Last updated : "+n(N(E)(d.value.last_modified_date).format("D MMMM YYYY")),1)])]),e("div",J,[e("div",null,[c(V,{title:"Interview List"})]),j(e("select",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 h-7 transition ease-in-out focus:scale-95 hover:-translate-y-1 text-sm cursor-pointer","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),onChange:s[1]||(s[1]=t=>T())},K,544),[[S,p.value]])]),w.value?(a(),i(b,{key:0},[_.value.length>0?(a(!0),i(b,{key:0},R(_.value,t=>(a(),i("div",Q,[e("div",X,[Z,e("div",ee,[e("div",te,[c(o,{to:"/workspace/recruitment/"+d.value.id+"/interview-list/candidate/"+t.candidate_profile.id,class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100"},{default:x(()=>[u(" View Detail ")]),_:2},1032,["to"]),e("button",{class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:m=>I(t.candidate_profile.id)}," Remove from Applicant List ",8,se)])])]),e("div",oe,[e("img",{src:t.candidate_profile.user.pic,alt:"",class:"border-2 border-indigo-200 rounded-md w-28 h-28 bg-gray-200 max-md:w-16 max-md:h-16"},null,8,ae),e("div",ie,[c(o,{to:"/workspace/recruitment/"+d.value.id+"/interview-list/candidate/"+t.candidate_profile.id,class:"text-xl font-semibold hover:underline cursor-pointer"},{default:x(()=>[u(n(t.candidate_profile.user.name),1)]),_:2},1032,["to"]),t.candidate_profile.education.length>0?(a(),i("p",ne,[le,u("    "+n(t.candidate_profile.education[t.candidate_profile.education.length-1].study_field),1)])):C("",!0),t.candidate_profile.work_experience.length>0?(a(),i("p",de,[re,u("    "+n(t.candidate_profile.work_experience[t.candidate_profile.work_experience.length-1].duration)+" experience at "+n(t.candidate_profile.work_experience[t.candidate_profile.work_experience.length-1].company_name)+" as "+n(t.candidate_profile.work_experience[t.candidate_profile.work_experience.length-1].role),1)])):C("",!0),e("p",null,[ce,u("    Preferred Salary : RM"+n(t.candidate_profile.preferred_salary),1)])])])]))),256)):(a(),i("div",ue,pe))],64)):(a(),i("div",me,[c($,{color:"indigo"})]))]),he])],64)}}};export{ke as default};
