import{r as n,t as D,J as M,l as A,j as _,k as v,K as G,a as J,o as a,c as d,g as R,v as S,d as r,b as t,s as E,u as I,H as i,F as C,p as L,w as N,f as g,E as V,I as U,G as b}from"./index-52d34a77.js";import{_ as W,a as O}from"./NavPublic-0550edef.js";import{_ as T}from"./TitleBorder-ff85321c.js";import{_ as q}from"./ToastMsg-3159a1a9.js";import"./dayjs.min-8d4ef725.js";import{_ as H}from"./Loading-436a1654.js";import"./hireflash-de18c76a.js";import"./_commonjsHelpers-042e6b4d.js";const K={class:"bg-indigo-50 w-full min-h-screen"},Q={class:"max-w-7xl mx-auto px-4 mt-12 max-md:mt-8"},z={key:0,class:"bg-gray-50 rounded-md shadow-lg w-full mt-12 max-md:mt-8"},X={class:"w-full bg-company-pattern h-36 relative max-md:h-28 rounded-t-md"},Y=t("i",{class:"bi bi-arrow-left text-xl"},null,-1),Z=[Y],tt={class:"max-w-5xl mx-auto px-4 max-md:px-0 flex items-center gap-4 relative w-full top-0 max-md:w-[95%] max-md:gap-2"},et={class:"border-2 border-indigo-200 rounded-md w-32 h-32 bg-gray-50 grid place-items-center"},st=["src"],ot={class:"font-semibold text-2xl max-md:text-xl text-white"},at=t("br",null,null,-1),it=t("br",null,null,-1),lt=t("br",null,null,-1),nt=t("br",{class:"max-md:hidden"},null,-1),dt={class:"mx-auto max-w-5xl px-4"},ct={class:"mb-2 flex items-center gap-2 pt-6"},rt=t("h5",{class:"text-lg"},[t("i",{class:"bi bi-buildings text-lg"})],-1),mt={class:"text-lg max-sm:text-base"},ut={class:"mb-2 flex items-center gap-2"},_t=t("h5",{class:"text-lg"},[t("i",{class:"bi bi-geo-alt text-lg"})],-1),ht={class:"text-lg max-sm:text-base"},pt={class:"mb-2 flex items-center gap-2"},xt=t("h5",{class:"text-lg"},[t("i",{class:"bi bi-link-45deg text-lg"})],-1),vt={class:"text-lg max-sm:text-base"},gt={class:"mb-2 flex items-center gap-2"},bt=t("h5",{class:"text-lg"},[t("i",{class:"bi bi-text-paragraph text-lg"})],-1),ft={class:"text-lg max-sm:text-base"},wt=t("br",null,null,-1),yt={class:"mx-auto max-w-5xl px-4"},kt={class:"grid grid-cols-2 gap-4 mt-4 max-w-3xl max-md:grid-cols-1"},Ct={class:"border-2 border-indigo-200 rounded-md p-4"},Tt={class:"text-4xl text-center"},jt={class:"mt-2 text-center"},Ft=t("br",null,null,-1),Et={class:"mx-auto max-w-5xl px-4"},It={class:"my-6 max-md:m-0 max-md:mt-4"},Lt={class:"relative group"},Nt=t("button",{class:"absolute top-0 right-0"},[t("i",{class:"bi bi-three-dots-vertical text-lg"})],-1),Pt={class:"absolute top-1 right-6 hidden group-focus-within:grid place-items-center bg-gray-50 w-44 py-4 rounded-md shadow-lg outline outline-2 outline-indigo-200"},$t={class:"flex flex-col"},Bt=["onClick"],Dt={class:"flex items-center gap-4 max-md:flex-col max-md:items-start"},Mt={class:"border-2 border-indigo-200 rounded-md w-32 h-32 max-md:w-16 max-md:h-16 grid place-items-center"},At=["src"],Gt={class:""},Jt={class:"flex gap-6 mb-1 max-md:flex-col max-md:gap-1"},Rt={class:"flex items-center"},St=t("i",{class:"bi bi-geo-alt"},null,-1),Vt={class:"flex items-center"},Ut=t("i",{class:"bi bi-cash"},null,-1),Wt=t("div",{class:"mt-4 border-t-[1.5px] border-indigo-200"},null,-1),Ot={key:1,class:"m-6 max-md:m-0 max-md:mt-4"},qt=t("h4",{class:"text-lg text-indigo-300 italic"}," No result... ",-1),Ht=[qt],Kt=t("br",null,null,-1),Qt={key:1,class:"h-full w-full grid place-items-center"},zt=t("br",{class:"lg:hidden"},null,-1),Xt=t("br",null,null,-1),Yt=t("br",null,null,-1),de={__name:"CompanyDetailUI",setup(Zt){document.title="Company Detail - Hireflash";const h=n(!1);D(()=>{h.value=M.value});const j=n(!1);A(async()=>{window.scrollTo({top:0,behavior:"smooth"});const s=await fetch(_+"/company/"+v.currentRoute.value.params.companyId,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await s.json();if(s.status!==200)c("Failed to get company detail. Please try again.");else{l.value=o.data;const m=await fetch(_+"/job/company/"+v.currentRoute.value.params.companyId+"?status=Advertised",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),e=await m.json();m.status!==200?c("Failed to get company detail. Please try again."):(f.value=e.data.jobList,p.value=e.data.uniqueField,p.value.map(async u=>{const F=await fetch(_+"/job/company/"+v.currentRoute.value.params.companyId+"/field/"+encodeURIComponent(u),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),B=await F.json();F.status!==200?c("Failed to get department detail. Please try again."):w.value=[...w.value,B.data.length]}),j.value=!0)}});const l=n({}),f=n([]),p=n([]),w=n([]),y=n(!1),k=n("");function c(s){k.value=s,y.value=!0,setTimeout(()=>{y.value=!1,k.value=""},3e3)}function P(){navigator.clipboard.writeText("http://localhost:5173/job/e5221fc309"),c("Link copied!")}async function $(s){const o=await fetch(_+"/applicant",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({notes:"",is_only_wish:!0,candidate_profile_id:b.value.id,job_id:s})});await o.json(),o.status!==201?c("Failed to add to Wishlist. Please try again."):(x.value=[...x.value,{id:crypto.randomUUID(),notes:"",is_only_wish:!0,candidate_profile_id:b.value.id,job_id:s}],c("Successfully added to Wishlist"))}const x=n([]);return G(async()=>{if(b.value.id){const s=await fetch(_+"/applicant/wishlist/"+b.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await s.json();s.status!==200?c("Failed to get wishlist. Please reload browser."):x.value=o.data}}),(s,o)=>{const m=J("router-link");return a(),d(C,null,[R(r(q,{msg:k.value},null,8,["msg"]),[[S,y.value]]),t("main",K,[h.value?(a(),E(W,{key:0,shownav:h.value},null,8,["shownav"])):(a(),E(O,{key:1,shownav:!h.value},null,8,["shownav"])),t("section",Q,[j.value?(a(),d("div",z,[t("div",X,[t("button",{class:"py-1 px-2 m-4 bg-transparent hover:rounded-md hover:shadow-inner hover:bg-indigo-100 mb-4 text-white hover:text-black",title:"Back",onClick:o[0]||(o[0]=()=>{I(v).back()})},Z),t("div",tt,[t("div",et,[t("img",{src:l.value.pic,alt:"",class:"w-full h-auto max-md:w-20 max-md:h-auto"},null,8,st)]),t("div",null,[t("h4",ot,i(l.value.name),1),at])])]),it,lt,nt,t("div",dt,[r(T,{title:"Company Information"}),t("div",ct,[rt,t("h6",mt,i(l.value.name),1)]),t("div",ut,[_t,t("h6",ht,i(l.value.city+", "+l.value.state+", "+l.value.country),1)]),t("div",pt,[xt,t("h6",vt,i(l.value.website),1)]),t("div",gt,[bt,t("h6",ft,i(l.value.desc),1)]),wt]),t("div",yt,[r(T,{title:"Job(s) based on Field"}),t("div",kt,[(a(!0),d(C,null,L(p.value,e=>(a(),d("div",Ct,[t("h2",Tt,i(w.value[p.value.indexOf(e)]),1),t("p",jt,i(e),1)]))),256))]),Ft]),t("div",Et,[r(T,{title:"List of Current Advertised Job(s)"}),f.value.length>0?(a(!0),d(C,{key:0},L(f.value,e=>(a(),d("div",It,[t("div",Lt,[Nt,t("div",Pt,[t("div",$t,[r(m,{class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",to:"/job/"+e.id},{default:N(()=>[g(" View Detail ")]),_:2},1032,["to"]),t("button",{class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:o[1]||(o[1]=u=>P())}," Copy Link "),I(V).id&&x.value.filter(u=>u.job_id===e.id).length===0?(a(),d("button",{key:0,class:"py-2 px-4 text-left hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:u=>$(e.id)}," Add to Wishlist ",8,Bt)):U("",!0)])])]),t("div",Dt,[t("div",Mt,[t("img",{src:e.company.pic,alt:"",class:"w-full h-auto"},null,8,At)]),t("div",Gt,[r(m,{class:"text-2xl font-semibold mb-1 hover:underline cursor-pointer select-none max-md:text-xl",title:"Preview the job",to:"/job/"+e.id},{default:N(()=>[g(i(e.designation),1)]),_:2},1032,["to"]),t("div",Jt,[t("p",null,i(e.company.name),1),t("p",Rt,[St,g(" "),t("span",null,i(e.company.state+", "+e.company.country),1)]),t("p",Vt,[Ut,g(" "),t("span",null,"RM"+i(e.min_monthly_salary),1)])])])]),Wt]))),256)):(a(),d("div",Ot,Ht)),Kt])])):(a(),d("div",Qt,[r(H,{color:"indigo"})]))]),zt,Xt,Yt])],64)}}};export{de as default};
