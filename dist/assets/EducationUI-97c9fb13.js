import{r as s,l as B,j as _,G as C,o as i,c as d,g as r,v as V,d as h,b as e,F as E,p as q,H as u,n as j,h as G,w as L,i as x,s as Y}from"./index-52d34a77.js";import{_ as A}from"./TitleBorder-ff85321c.js";import{_ as O}from"./ToastMsg-3159a1a9.js";import{_ as P}from"./DialogModal-0af1feed.js";import{d as I}from"./dayjs.min-8d4ef725.js";import{_ as H,a as R}from"./OptionCustom-cd5bbf2e.js";import{_ as z}from"./Loading-436a1654.js";import"./_commonjsHelpers-042e6b4d.js";const J={class:"bg-gray-50 w-full px-12 py-6 rounded-md shadow-lg max-md:px-6 max-md:py-3"},K={class:"mb-8"},Q={key:0,class:"mt-4 grid grid-cols-2 gap-4 max-md:grid-cols-1"},W={class:"border-2 border-indigo-200 rounded-md px-6 py-4 relative group/item"},X={class:"text-lg font-bold"},Z=["onClick"],ee=e("i",{class:"bi bi-trash3"},null,-1),te=[ee],oe={key:1,class:"mt-8 text-lg text-indigo-300 italic"},ae={key:1,class:"mt-4 grid place-items-center"},se={class:"mt-6"},le={class:"mt-4"},ie=e("label",{class:"mb-2 block"},"Qualification",-1),ne={class:"mt-4"},de=e("label",{class:"mb-2 block"},"Study Field",-1),re={class:"mt-4"},ue=e("label",{class:"mb-2 block"},"Grade",-1),ce={class:"mt-4"},me=e("label",{class:"mb-2 block"},"Graduation Date",-1),ve={class:"mt-4"},pe=e("label",{class:"mb-2 block"},"Institute Name",-1),ge={class:"mt-4"},fe=e("label",{class:"mb-2 block"},"Institute Location",-1),be={class:"mt-6"},ye=["disabled"],_e=e("br",{class:"mb-2"},null,-1),he=e("p",null,"Confirm to remove from your education list?",-1),xe={class:"mt-6 flex gap-2"},Se={__name:"EducationUI",setup(we){const c=s(!1);document.title="Education - Hireflash",B(async()=>{const a=await fetch(_+"/education/"+C.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await a.json();a.status!==200?alert("error occured"):(b.value=o.data,c.value=!0)});const m=s(""),n=s(""),v=s(""),p=s(""),g=s(""),f=s("");let l={qualification:"",studyField:"",grade:"",graduationDate:"",instituteName:"",instituteLocation:""};const b=s([]),w=s(!0),D=s("Add New");function $(){w.value=!w.value,w.value?D.value="Add New":D.value="Cancel"}const N=s(!1),T=s("");function S(a){T.value=a,N.value=!0,setTimeout(()=>{N.value=!1,T.value=""},3e3)}async function U(){l.qualification=n.value,l.studyField=v.value,l.grade=p.value,l.graduationDate=I(m.value).format("D MMMM YYYY"),l.instituteName=g.value,l.instituteLocation=f.value;const a=await fetch(_+"/education",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({graduation_date:l.graduationDate,qualification:l.qualification,institute_name:l.instituteName,institute_address:l.instituteLocation,study_field:l.studyField,grade:l.grade,candidate_profile_id:C.value.id})});if(await a.json(),a.status!==201)alert("error occured");else{c.value=!1;const o=await fetch(_+"/education/"+C.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await o.json();o.status!==200?alert("error occured"):(b.value=t.data,c.value=!0,m.value="",n.value="",v.value="",p.value="",g.value="",f.value="",S("New education information has been added."),$())}}const M=s(!1),k=s("");function y(a){a&&(k.value=a),M.value=!M.value}async function F(){const a=await fetch(_+"/education/"+k.value,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"});if(await a.json(),a.status!==200)alert("error occured");else{c.value=!1;const o=await fetch(_+"/education/"+C.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await o.json();o.status!==200?(alert("error occured"),y(),k.value=""):(b.value=t.data,c.value=!0,y(),k.value="",S("Successfully removed from your education list."))}}return(a,o)=>(i(),d(E,null,[r(h(O,{msg:T.value},null,8,["msg"]),[[V,N.value]]),e("div",J,[e("div",K,[h(A,{title:"Education"}),c.value?(i(),d(E,{key:0},[b.value.length>0?(i(),d("div",Q,[(i(!0),d(E,null,q(b.value,t=>(i(),d("div",W,[e("h1",X,u(t.qualification),1),e("p",null,u(t.study_field),1),e("p",null,u(t.grade),1),e("p",null,u(t.graduation_date),1),e("p",null,u(t.institute_name),1),e("p",null,u(t.institute_address),1),e("button",{class:"py-1 px-2 absolute bottom-2 right-2 invisible group-hover/item:visible hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:ke=>y(t.id),title:"Delete"},te,8,Z)]))),256))])):(i(),d("div",oe," No education added... "))],64)):(i(),d("div",ae,[h(z,{color:"indigo"})])),e("div",se,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:o[0]||(o[0]=t=>$())},u(D.value),1)])]),e("form",{class:j(["mb-8",{hidden:w.value}]),onSubmit:o[7]||(o[7]=G(t=>U(),["prevent"]))},[e("div",le,[ie,h(H,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=t=>n.value=t),heightselect:"40",widthselect:"96",placeholderval:"Select qualification",isdisabled:!1},{default:L(()=>[(i(!0),d(E,null,q(["Secondary school/SPM/Equivalent","Diploma/Equivalent","Bachelor's Degree","Master's Degree","Ph.D.","Associate Degree","Vocational Certificate","Professional Certification","Other"],t=>(i(),Y(R,{optionvalue:t,onClick:()=>{n.value=t},class:j({"rounded-md shadow-inner bg-indigo-100":n.value===t})},null,8,["optionvalue","onClick","class"]))),256))]),_:1},8,["modelValue"])]),e("div",ne,[de,r(e("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"Bachelor's Degree in Civil Engineering","onUpdate:modelValue":o[2]||(o[2]=t=>v.value=t)},null,512),[[x,v.value]])]),e("div",re,[ue,r(e("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"4.0","onUpdate:modelValue":o[3]||(o[3]=t=>p.value=t)},null,512),[[x,p.value]])]),e("div",ce,[me,r(e("input",{type:"date",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"2003-01-08","onUpdate:modelValue":o[4]||(o[4]=t=>m.value=t)},null,512),[[x,m.value]])]),e("div",ve,[pe,r(e("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"University of Cambridge","onUpdate:modelValue":o[5]||(o[5]=t=>g.value=t)},null,512),[[x,g.value]])]),e("div",ge,[fe,r(e("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"Cambridge, UK","onUpdate:modelValue":o[6]||(o[6]=t=>f.value=t)},null,512),[[x,f.value]])]),e("div",be,[e("button",{class:j(["rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":n.value===""||v.value===""||p.value===""||m.value===""||g.value===""||f.value===""}]),type:"submit",disabled:n.value===""||v.value===""||p.value===""||m.value===""||g.value===""||f.value===""}," Save ",10,ye)])],34),r(h(P,{onToggle:o[10]||(o[10]=t=>y()),modaltype:"small"},{default:L(()=>[_e,he,e("div",xe,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:o[8]||(o[8]=t=>F())}," Yes "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:o[9]||(o[9]=t=>y())}," Cancel ")])]),_:1},512),[[V,M.value]])])],64))}};export{Se as default};
