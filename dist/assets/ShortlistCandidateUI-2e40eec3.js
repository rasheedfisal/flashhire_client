import{r,l as A,k as c,j as f,a as V,o as a,c as l,g as h,v as x,d as _,b as e,w as k,H as o,u as w,F as g,p as M,f as m,s as B,I as z,h as U,i as q,n as G,W as J}from"./index-52d34a77.js";import{_ as S}from"./DialogModal-0af1feed.js";import{_ as W}from"./TitleBorder-ff85321c.js";import{_ as K}from"./ToastMsg-3159a1a9.js";import{_ as Q}from"./PdfRenderer-8f8a4fe4.js";import{_ as X}from"./Loading-436a1654.js";import{d as C}from"./dayjs.min-8d4ef725.js";import"./_commonjsHelpers-042e6b4d.js";const Z={class:"max-w-7xl mx-auto px-6 max-md:px-3"},ee={key:0,class:"w-full bg-gray-50 rounded-md shadow-lg px-12 py-6 max-md:px-4 max-md:py-2"},te={class:"mt-2 flex items-center gap-2"},se=e("i",{class:"bi bi-arrow-left text-xl"},null,-1),oe=e("h2",null,"Shortlist",-1),ae={class:"mt-4"},ie={class:"text-2xl font-bold text-center"},le={class:"text-center"},ne={class:"mt-4"},de={class:"mt-4 flex gap-4 max-md:flex-col"},re=["src"],ce={class:"max-md:text-[0.9rem]"},ue={class:"mb-4"},me=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-person-badge"}),m("   User Profile ")],-1),_e={class:"list-disc list-inside px-2"},pe={class:"mb-4"},ve=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-book"}),m("   Education ")],-1),fe={class:"list-disc list-inside px-2"},he={key:1},ge={class:"mb-4"},be=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-briefcase"}),m("   Work experience ")],-1),ye={class:"list-disc list-inside px-2"},xe={key:1},ke={class:"mb-4"},we=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-translate"}),m("   Language ability ")],-1),Me={class:"list-disc list-inside px-2"},Ce={key:1},je={class:"mb-4"},Ie=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-hourglass-split"}),m("   Skill ")],-1),Te={class:"list-disc list-inside px-2"},Re={key:1},Ye={class:"mb-4"},$e=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-file-earmark-text"}),m("   Resume ")],-1),Se={class:"list-disc list-inside px-2"},Ne={key:0},Ee=e("i",{class:"bi bi-box-arrow-up-right"},null,-1),De={key:1},Le={class:"mb-4"},Pe=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-blockquote-left"}),m("   Notes ")],-1),Fe={key:0,class:"text-gray-400 px-6"},He={key:1,class:"px-6"},Oe={class:"mt-6 flex gap-2 max-md:flex-col max-md:text-[1rem]"},Ae=e("br",null,null,-1),Ve=e("label",{class:"mb-2 block"},"Notes",-1),Be={class:"mt-4"},ze={class:"mt-6 flex gap-2"},Ue=["disabled"],qe=e("br",null,null,-1),Ge=e("br",null,null,-1),Je=e("br",{class:"mb-2"},null,-1),We=e("p",null,"Remove this candidate from shortlist?",-1),Ke={class:"mt-6 flex gap-2"},Qe={key:1,class:"mt-4 h-full w-full grid place-items-center"},Xe=e("br",null,null,-1),dt={__name:"ShortlistCandidateUI",setup(Ze){document.title="Shortlist Candidate Detail - Hireflash";const N=r(!1);A(async()=>{const d=c.currentRoute.value.params.jobId,t=c.currentRoute.value.params.candidateId,n=await fetch(f+"/job/"+d,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),s=await n.json();if(n.status!==200)n.status===404&&c.replace("/404-Not-Found");else{b.value=s.data;const D=await fetch(f+"/shortlisted-candidate/"+d+"/"+t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),O=await D.json();D.status!==200||(i.value=O.data,u.value=i.value.notes,N.value=!0)}});const i=r({}),b=r({}),j=r(!1),I=r("");function v(d){I.value=d,j.value=!0,setTimeout(()=>{j.value=!1,I.value=""},3e3)}async function L(){const d=c.currentRoute.value.params.jobId,t=c.currentRoute.value.params.candidateId,n=await fetch(f+"/shortlisted-candidate/"+d+"/interview-status/"+t,{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({is_qualified_interview:!0})});await n.json(),n.status!==201?v("Failed to add the candidate to interview list. Please try again."):v("Successfully added this candidate to interview list.")}const T=r(!1);function y(){T.value=!T.value}const u=r("");async function P(){const d=c.currentRoute.value.params.jobId,t=c.currentRoute.value.params.candidateId,n=await fetch(f+"/shortlisted-candidate/"+d+"/"+t+"/notes",{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({notes:u.value})});await n.json(),n.status!==200?v("Failed to add notes to this candidate. Please try again."):(y(),v("Notes successfully added"))}const R=r(!1);function E(){R.value=!R.value}const Y=r(!1);function $(){Y.value=!Y.value}async function F(){const d=c.currentRoute.value.params.jobId,t=c.currentRoute.value.params.candidateId,n=await fetch(f+"/shortlisted-candidate/"+d+"/"+t,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"});await n.json(),n.status!==200?v("Failed to remove this candidate from shortlist. Please try again."):(J.value="short",c.replace("/workspace/recruitment/"+d+"/shortlist"))}const p=r(null);function H(){p.value.style.height="5rem",parseInt(p.value.scrollHeight)<500?p.value.style.height=p.value.scrollHeight+"px":p.value.style.height="500px"}return(d,t)=>{const n=V("router-link");return a(),l(g,null,[h(_(K,{msg:I.value},null,8,["msg"]),[[x,j.value]]),e("div",Z,[N.value?(a(),l("div",ee,[e("div",te,[_(n,{to:"/workspace/recruitment/"+b.value.id+"/shortlist",class:"py-1 px-2 hover:rounded-md hover:shadow-inner hover:bg-indigo-100"},{default:k(()=>[se]),_:1},8,["to"]),oe]),e("div",ae,[e("h1",ie,o(b.value.designation),1),e("p",le,[e("small",null,"Last updated : "+o(w(C)(b.value.last_modified_date).format("D MMMM YYYY")),1)])]),e("div",ne,[_(W,{title:"Shortlist Candidate Detail"})]),e("div",de,[e("img",{src:i.value.candidate_profile.user.pic,alt:"",class:"border-2 border-indigo-200 rounded-md w-28 h-28 bg-gray-200 max-md:self-center"},null,8,re),e("div",ce,[e("div",ue,[me,e("ul",_e,[e("li",null,o(i.value.candidate_profile.user.name),1),e("li",null,o(i.value.candidate_profile.user.email),1),e("li",null,o(i.value.candidate_profile.gender),1),e("li",null,o(i.value.candidate_profile.location),1),e("li",null,o("Preferred Salary : RM"+i.value.candidate_profile.preferred_salary),1)])]),e("div",pe,[ve,e("ul",fe,[i.value.candidate_profile.education.length>0?(a(!0),l(g,{key:0},M(i.value.candidate_profile.education,s=>(a(),l("li",null,o(s.study_field)+" at "+o(s.institute_name)+" ("+o(w(C)(s.graduation_date,"D MMMM YYYY").year())+") ",1))),256)):(a(),l("li",he,"-"))])]),e("div",ge,[be,e("ul",ye,[i.value.candidate_profile.work_experience.length>0?(a(!0),l(g,{key:0},M(i.value.candidate_profile.work_experience,s=>(a(),l("li",null,o(s.duration)+" experience at "+o(s.company_name)+" as "+o(s.position)+" ("+o(w(C)(s.start_date,"D MMMM YYYY").year())+" - "+o(w(C)(s.end_date,"D MMMM YYYY").year())+") ",1))),256)):(a(),l("li",xe,"-"))])]),e("div",ke,[we,e("ul",Me,[i.value.candidate_profile.lang_ability.length>0?(a(!0),l(g,{key:0},M(i.value.candidate_profile.lang_ability,s=>(a(),l("li",null,o(s.language_name)+": "+o(s.scale_of_speaking)+" out of 5 for speaking and "+o(s.scale_of_writing)+" out of 5 for writing ",1))),256)):(a(),l("li",Ce,"-"))])]),e("div",je,[Ie,e("ul",Te,[i.value.candidate_profile.skill.length>0?(a(!0),l(g,{key:0},M(i.value.candidate_profile.skill,s=>(a(),l("li",null,o(s.skill_name)+" ("+o(s.proficiency)+") ",1))),256)):(a(),l("li",Re,"-"))])]),e("div",Ye,[$e,e("ul",Se,[i.value.candidate_profile.resume.length>0?(a(),l("li",Ne,[e("span",{class:"text-indigo-500 cursor-pointer select-none",onClick:t[0]||(t[0]=s=>E())},[m(" Open resume  "),Ee])])):(a(),l("li",De,"-"))])]),e("div",Le,[Pe,u.value===""?(a(),l("p",Fe,"No notes added")):(a(),l("p",He,o(u.value),1))]),e("div",Oe,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[1]||(t[1]=s=>L())}," Add to Interview List "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[2]||(t[2]=s=>y())}," Add notes "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[3]||(t[3]=s=>$())}," Remove from Shortlist ")]),Ae])]),h(_(S,{onToggle:t[8]||(t[8]=s=>y()),modaltype:"small"},{default:k(()=>[e("form",{class:"block w-[40vw] max-md:w-[80vw]",onSubmit:t[7]||(t[7]=U(s=>P(),["prevent"]))},[Ve,h(e("textarea",{class:"block w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 resize-y h-20 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"Add some remarks for this candidate...","onUpdate:modelValue":t[4]||(t[4]=s=>u.value=s),ref_key:"textareaElm",ref:p,onInput:t[5]||(t[5]=s=>H())},null,544),[[q,u.value]]),e("div",Be,[e("div",ze,[e("button",{class:G(["rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":u.value===""}]),type:"submit",disabled:u.value===""}," Save ",10,Ue),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo8 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[6]||(t[6]=s=>y()),type:"button"}," Cancel ")])])],32)]),_:1},512),[[x,T.value]]),i.value.candidate_profile.resume.length>0?h((a(),B(S,{key:0,onToggle:t[9]||(t[9]=s=>E()),modaltype:"big"},{default:k(()=>[qe,Ge,_(Q,{link:i.value.candidate_profile.resume[0].path},null,8,["link"])]),_:1},512)),[[x,R.value]]):z("",!0),h(_(S,{onToggle:t[12]||(t[12]=s=>$()),modaltype:"small"},{default:k(()=>[Je,We,e("div",Ke,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[10]||(t[10]=s=>F())}," Yes "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:t[11]||(t[11]=s=>$())}," Cancel ")])]),_:1},512),[[x,Y.value]])])):(a(),l("div",Qe,[_(X,{color:"indigo"})])),Xe])],64)}}};export{dt as default};
