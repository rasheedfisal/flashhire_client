import{r,l as J,k as u,j as b,a as W,o as a,c as l,g as h,v as C,d as c,b as e,w as y,H as o,u as M,F as f,p as x,f as _,n as E,h as O,s as q,I as K,i as Q,P as X}from"./index-52d34a77.js";import{_ as D}from"./DialogModal-0af1feed.js";import{_ as P}from"./TitleBorder-ff85321c.js";import{_ as Z}from"./ToastMsg-3159a1a9.js";import{_ as ee,a as te}from"./OptionCustom-cd5bbf2e.js";import{_ as se}from"./PdfRenderer-8f8a4fe4.js";import{_ as ae}from"./Loading-436a1654.js";import{d as S}from"./dayjs.min-8d4ef725.js";import"./_commonjsHelpers-042e6b4d.js";const oe={class:"max-w-7xl mx-auto px-6 max-md:px-3"},le={key:0,class:"w-full bg-gray-50 rounded-md shadow-lg px-12 py-6 max-md:px-4 max-md:py-2"},ie={class:"mt-2 flex items-center gap-2"},ne=e("i",{class:"bi bi-arrow-left text-xl"},null,-1),de=e("h2",null,"Successful List",-1),re={class:"mt-4"},ce={class:"text-2xl font-bold text-center"},ue={class:"text-center"},me={class:"mt-4"},_e={class:"mt-4 flex gap-4 max-md:flex-col"},pe=["src"],ve={class:"max-md:text-[0.9rem]"},fe={class:"mb-4"},ge=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-person-badge"}),_("   User Profile ")],-1),be={class:"list-disc list-inside px-2"},he={class:"mb-4"},ye=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-book"}),_("   Education ")],-1),xe={class:"list-disc list-inside px-2"},ke={key:1},we={class:"mb-4"},Ce=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-briefcase"}),_("   Work experience ")],-1),Me={class:"list-disc list-inside px-2"},Se={key:1},je={class:"mb-4"},Re=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-translate"}),_("   Language ability ")],-1),Ie={class:"list-disc list-inside px-2"},$e={key:1},Te={class:"mb-4"},Ye=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-hourglass-split"}),_("   Skill ")],-1),Ne={class:"list-disc list-inside px-2"},Ee={key:1},De={class:"mb-4"},He=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-file-earmark-text"}),_("   Resume ")],-1),Le={class:"list-disc list-inside px-2"},Ve={key:0},Ae=e("i",{class:"bi bi-box-arrow-up-right"},null,-1),Oe={key:1},Pe={class:"mb-4"},Ue=e("h4",{class:"text-lg"},[e("i",{class:"bi bi-blockquote-left"}),_("   Notes ")],-1),Fe={key:0,class:"text-gray-400 px-6"},Be={key:1,class:"px-6"},ze={class:"mt-6 flex gap-2 max-md:flex-col max-md:text-[1rem]"},Ge={class:"mt-6"},Je={class:"mt-4 max-w-lg"},We=e("label",{class:"mb-2 block"},"Recruitment Status",-1),qe=e("div",{class:"mt-6"},[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",type:"submit"}," Save ")],-1),Ke=e("label",{class:"mb-2 block"},"Notes",-1),Qe={class:"mt-4"},Xe={class:"mt-6 flex gap-2"},Ze=["disabled"],et=e("br",null,null,-1),tt=e("br",null,null,-1),st=e("br",{class:"mb-2"},null,-1),at=e("p",null,"Remove this candidate from interview list?",-1),ot={class:"mt-6 flex gap-2"},lt={key:1,class:"mt-4 h-full w-full grid place-items-center"},it=e("br",null,null,-1),gt={__name:"SuccessfulCandidateUI",setup(nt){document.title="Successful Candidate Detail - Hireflash";const H=r(!1);J(async()=>{const d=u.currentRoute.value.params.jobId,s=u.currentRoute.value.params.candidateId,n=await fetch(b+"/job/"+d,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await n.json();if(n.status!==200)n.status===404&&u.replace("/404-Not-Found");else{g.value=t.data,p.value=g.value.recruitment_status;const A=await fetch(b+"/successful-candidate/"+d+"/"+s,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),G=await A.json();A.status!==200||(i.value=G.data,m.value=i.value.notes,H.value=!0)}});const i=r({}),g=r({}),p=r(""),j=r(!1),R=r("");function k(d){R.value=d,j.value=!0,setTimeout(()=>{j.value=!1,R.value=""},3e3)}const I=r(!1);function L(){I.value=!I.value}async function U(){const d=X.value.company_id,s=u.currentRoute.value.params.jobId,n=await fetch(b+"/job/recruitment-status/"+d+"/"+s,{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({recruitment_status:p.value})});await n.json(),n.status!==200?k("Failed to update recruitment status. Please try again."):(L(),k("Recruitment status has been updated"))}const $=r(!1);function w(){$.value=!$.value}const m=r("");async function F(){const d=u.currentRoute.value.params.jobId,s=u.currentRoute.value.params.candidateId,n=await fetch(b+"/successful-candidate/"+d+"/"+s+"/notes",{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({notes:m.value})});await n.json(),n.status!==200?k("Failed to add notes to this candidate. Please try again."):(w(),k("Notes successfully added"))}const T=r(!1);function V(){T.value=!T.value}const Y=r(!1);function N(){Y.value=!Y.value}async function B(){const d=u.currentRoute.value.params.jobId,s=u.currentRoute.value.params.candidateId,n=await fetch(b+"/successful-candidate/"+d+"/"+s,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"});await n.json(),n.status!==200||(successRemove.value="successful",u.replace("/recruitment/"+d+"/successful-list"))}const v=r(null);function z(){v.value.style.height="5rem",parseInt(v.value.scrollHeight)<500?v.value.style.height=v.value.scrollHeight+"px":v.value.style.height="500px"}return(d,s)=>{const n=W("router-link");return a(),l(f,null,[h(c(Z,{msg:R.value},null,8,["msg"]),[[C,j.value]]),e("div",oe,[H.value?(a(),l("div",le,[e("div",ie,[c(n,{to:"/workspace/recruitment/"+g.value.id+"/successful-list",class:"py-1 px-2 hover:rounded-md hover:shadow-inner hover:bg-indigo-100"},{default:y(()=>[ne]),_:1},8,["to"]),de]),e("div",re,[e("h1",ce,o(g.value.designation),1),e("p",ue,[e("small",null,"Last updated : "+o(M(S)(g.value.last_modified_date).format("D MMMM YYYY")),1)])]),e("div",me,[c(P,{title:"Successful Candidate Detail"})]),e("div",_e,[e("img",{src:i.value.candidate_profile.user.pic,alt:"",class:"border-2 border-indigo-200 rounded-md w-28 h-28 bg-gray-200 max-md:self-center"},null,8,pe),e("div",ve,[e("div",fe,[ge,e("ul",be,[e("li",null,o(i.value.candidate_profile.user.name),1),e("li",null,o(i.value.candidate_profile.user.email),1),e("li",null,o(i.value.candidate_profile.gender),1),e("li",null,o(i.value.candidate_profile.location),1),e("li",null,o("Preferred Salary : RM"+i.value.candidate_profile.preferred_salary),1)])]),e("div",he,[ye,e("ul",xe,[i.value.candidate_profile.education.length>0?(a(!0),l(f,{key:0},x(i.value.candidate_profile.education,t=>(a(),l("li",null,o(t.study_field)+" at "+o(t.institute_name)+" ("+o(M(S)(t.graduation_date,"D MMMM YYYY").year())+") ",1))),256)):(a(),l("li",ke,"-"))])]),e("div",we,[Ce,e("ul",Me,[i.value.candidate_profile.work_experience.length>0?(a(!0),l(f,{key:0},x(i.value.candidate_profile.work_experience,t=>(a(),l("li",null,o(t.duration)+" experience at "+o(t.company_name)+" as "+o(t.position)+" ("+o(M(S)(t.start_date,"D MMMM YYYY").year())+" - "+o(M(S)(t.end_date,"D MMMM YYYY").year())+") ",1))),256)):(a(),l("li",Se,"-"))])]),e("div",je,[Re,e("ul",Ie,[i.value.candidate_profile.lang_ability.length>0?(a(!0),l(f,{key:0},x(i.value.candidate_profile.lang_ability,t=>(a(),l("li",null,o(t.language_name)+": "+o(t.scale_of_speaking)+" out of 5 for speaking and "+o(t.scale_of_writing)+" out of 5 for writing ",1))),256)):(a(),l("li",$e,"-"))])]),e("div",Te,[Ye,e("ul",Ne,[i.value.candidate_profile.skill.length>0?(a(!0),l(f,{key:0},x(i.value.candidate_profile.skill,t=>(a(),l("li",null,o(t.skill_name)+" ("+o(t.proficiency)+") ",1))),256)):(a(),l("li",Ee,"-"))])]),e("div",De,[He,e("ul",Le,[i.value.candidate_profile.resume.length>0?(a(),l("li",Ve,[e("span",{class:"text-indigo-500 cursor-pointer select-none",onClick:s[0]||(s[0]=t=>V())},[_(" Open resume  "),Ae])])):(a(),l("li",Oe,"-"))])]),e("div",Pe,[Ue,m.value===""?(a(),l("p",Fe,"No notes added")):(a(),l("p",Be,o(m.value),1))]),e("div",ze,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:s[1]||(s[1]=t=>L())}," Update Status "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:s[2]||(s[2]=t=>w())}," Add notes "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:s[3]||(s[3]=t=>N())}," Remove from Successful List ")]),e("div",Ge,[e("form",{class:E(["mb-8",{hidden:!I.value}]),onSubmit:s[5]||(s[5]=O(t=>U(),["prevent"]))},[c(P,{title:"Update Recruitment Status"}),e("div",Je,[We,c(ee,{modelValue:p.value,"onUpdate:modelValue":s[4]||(s[4]=t=>p.value=t),heightselect:"40",widthselect:"full",placeholderval:"Choose recruitment status",isdisabled:!1},{default:y(()=>[(a(),l(f,null,x(["Saved Later","Waiting Approval","Approved","Advertised","Shortlisting","Interviewing","Hold","Hired","Called Off"],t=>c(te,{optionvalue:t,onClick:()=>{p.value=t},class:E({"rounded-md shadow-inner bg-indigo-100":p.value===t})},null,8,["optionvalue","onClick","class"])),64))]),_:1},8,["modelValue"])]),qe],34)])])]),h(c(D,{onToggle:s[10]||(s[10]=t=>w()),modaltype:"small"},{default:y(()=>[e("form",{class:"block w-[40vw] max-md:w-[80vw]",onSubmit:s[9]||(s[9]=O(t=>F(),["prevent"]))},[Ke,h(e("textarea",{class:"block w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 resize-y h-20 hover:outline-none focus:outline-none focus:border-indigo-400 placeholder:text-gray-300",placeholder:"Add some remarks for this candidate...","onUpdate:modelValue":s[6]||(s[6]=t=>m.value=t),ref_key:"textareaElm",ref:v,onInput:s[7]||(s[7]=t=>z())},null,544),[[Q,m.value]]),e("div",Qe,[e("div",Xe,[e("button",{class:E(["rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":m.value===""}]),type:"submit",disabled:m.value===""}," Save ",10,Ze),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",type:"button",onClick:s[8]||(s[8]=t=>w())}," Cancel ")])])],32)]),_:1},512),[[C,$.value]]),i.value.candidate_profile.resume.length>0?h((a(),q(D,{key:0,onToggle:s[11]||(s[11]=t=>V()),modaltype:"big"},{default:y(()=>[et,tt,c(se,{link:i.value.candidate_profile.resume[0].path},null,8,["link"])]),_:1},512)),[[C,T.value]]):K("",!0),h(c(D,{onToggle:s[14]||(s[14]=t=>N()),modaltype:"small"},{default:y(()=>[st,at,e("div",ot,[e("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:s[12]||(s[12]=t=>B())}," Yes "),e("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:s[13]||(s[13]=t=>N())}," Cancel ")])]),_:1},512),[[C,Y.value]])])):(a(),l("div",lt,[c(ae,{color:"indigo"})])),it])],64)}}};export{gt as default};
