import{r as l,l as A,j as v,G as g,o as i,c as n,g as x,v as $,d as r,b as s,F as _,p as j,H as C,n as N,h as B,i as D,w as E,f as G}from"./index-52d34a77.js";import{_ as L}from"./TitleBorder-ff85321c.js";import{_ as O}from"./ToastMsg-3159a1a9.js";import{_ as P}from"./DialogModal-0af1feed.js";import{_ as U,a as F}from"./OptionCustom-cd5bbf2e.js";import{_ as H}from"./Loading-436a1654.js";const I={class:"bg-gray-50 w-full px-12 py-6 rounded-md shadow-lg max-md:px-6 max-md:py-3"},R={class:"mb-6"},z={key:0,class:"mt-4 grid grid-cols-3 gap-4 max-md:grid-cols-1"},J={class:"border-2 border-indigo-200 px-6 py-4 rounded-md relative group/item"},Y={class:"text-lg font-bold"},q={class:"font-semibold"},K=["onClick"],Q=s("i",{class:"bi bi-trash3"},null,-1),W=[Q],X={key:1,class:"mt-8 text-lg text-indigo-300 italic"},Z={key:1,class:"mt-4 grid place-items-center"},ee={class:"mt-6"},se={class:"mt-4"},oe=s("label",{class:"mb-2 block"},"Skill",-1),te={class:"mt-4"},le=s("label",{class:"mb-2 block"},"Proficiency",-1),ae={class:"mt-6"},ie=["disabled"],ne=s("br",{class:"mb-2"},null,-1),de=s("p",null,"Confirm to remove from your skill list?",-1),re={class:"mt-6 flex gap-2"},he={__name:"SkillUI",setup(ce){document.title="Skill - Hireflash";const c=l(!1);A(async()=>{const t=await fetch(v+"/skill/"+g.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),e=await t.json();t.status!==200?alert("error occured"):(u.value=e.data,c.value=!0)});const p=l(!0),h=l("Add New");function S(){p.value=!p.value,p.value?h.value="Add New":h.value="Cancel"}const d=l(""),a=l("");let f={skillName:"",proficiency:""};const u=l([]),y=l(!1),b=l("");function T(t){b.value=t,y.value=!0,setTimeout(()=>{y.value=!1,b.value=""},3e3)}async function M(){f.skillName=d.value,f.proficiency=a.value;const t=await fetch(v+"/skill",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({skill_name:f.skillName,proficiency:f.proficiency,candidate_profile_id:g.value.id})});if(await t.json(),t.status!==201)alert("error occured");else{c.value=!1;const e=await fetch(v+"/skill/"+g.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await e.json();e.status!==200?alert("error occured"):(u.value=o.data,c.value=!0,d.value="",a.value="",T("New skill has been addded."),S())}}const k=l(!1),w=l("");function m(t){t&&(w.value=t),k.value=!k.value}async function V(){const t=await fetch(v+"/skill/"+w.value,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"});if(await t.json(),t.status!==200)alert("error occured");else{const e=await fetch(v+"/skill/"+g.value.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"},credentials:"same-origin"}),o=await e.json();e.status!==200?(alert("error occured"),m()):(u.value=o.data,c.value=!0,m(),w.value="",T("Successfully removed from your skill list."))}}return(t,e)=>(i(),n(_,null,[x(r(O,{msg:b.value},null,8,["msg"]),[[$,y.value]]),s("div",I,[s("div",R,[r(L,{title:"Skill"}),c.value?(i(),n(_,{key:0},[u.value.length>0?(i(),n("div",z,[(i(!0),n(_,null,j(u.value,o=>(i(),n("div",J,[s("h1",Y,C(o.skill_name),1),s("p",null,[G(" Proficiency Â : "),s("span",q,C(o.proficiency),1)]),s("button",{class:"py-1 px-2 absolute bottom-2 right-2 invisible group-hover/item:visible hover:rounded-md hover:shadow-inner hover:bg-indigo-100",onClick:ue=>m(o.id),title:"Delete"},W,8,K)]))),256))])):(i(),n("div",X," No skill added... "))],64)):(i(),n("div",Z,[r(H,{color:"indigo"})])),s("div",ee,[s("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[0]||(e[0]=o=>S())},C(h.value),1)])]),s("form",{class:N(["mb-8",{hidden:p.value}]),onSubmit:e[3]||(e[3]=B(o=>M(),["prevent"]))},[s("div",se,[oe,x(s("input",{type:"text",class:"block w-96 max-md:w-full rounded-md border-2 border-gray-300 px-4 py-2 bg-gray-50 hover:outline-none focus:outline-none focus:border-indigo-500 placeholder:text-gray-300",placeholder:"English","onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o)},null,512),[[D,d.value]])]),s("div",te,[le,r(U,{modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),heightselect:"40",widthselect:"96",placeholderval:"Select proficiency",isdisabled:!1},{default:E(()=>[(i(),n(_,null,j(["Beginner","Intermediate","Advanced"],o=>r(F,{optionvalue:o,onClick:()=>{a.value=o},class:N({"rounded-md shadow-inner bg-indigo-100":a.value===o})},null,8,["optionvalue","onClick","class"])),64))]),_:1},8,["modelValue"])]),s("div",ae,[s("button",{class:N(["rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",{"disabled:cursor-not-allowed opacity-60":d.value===""||a.value===""}]),disabled:d.value===""||a.value===""}," Save ",10,ie)])],34),x(r(P,{onToggle:e[6]||(e[6]=o=>m()),modaltype:"small"},{default:E(()=>[ne,de,s("div",re,[s("button",{class:"rounded-md bg-indigo-800 text-gray-50 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[4]||(e[4]=o=>V())}," Yes "),s("button",{class:"rounded-md bg-gray-50 border-2 border-indigo-800 text-indigo-800 px-4 py-2 transition ease-in-out focus:scale-95 hover:-translate-y-1",onClick:e[5]||(e[5]=o=>m())}," Cancel ")])]),_:1},512),[[$,k.value]])])],64))}};export{he as default};
